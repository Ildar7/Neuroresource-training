"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")}));let popupVideoBlock=document.querySelector(".popup__video"),popupVideoItem=document.querySelector(".popup__video > video"),popupPlayIcon=document.querySelector(".popup__play");popupPlayIcon&&popupPlayIcon.addEventListener("click",(()=>{popupVideoItem.paused&&(popupVideoItem.play(),popupPlayIcon.classList.remove("active"),popupVideoBlock.classList.add("active"))})),popupVideoItem&&popupVideoItem.addEventListener("click",(()=>{popupVideoItem.pause(),popupPlayIcon.classList.add("active"),popupVideoBlock.classList.remove("active")}));const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=800;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){e.preventDefault();const o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o))}))}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){e.preventDefault(),popupClose(t.closest(".popup")),popupVideoItem.pause(),popupPlayIcon.classList.add("active"),popupVideoBlock.classList.remove("active")}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||(popupClose(e.target.closest(".popup")),popupVideoItem.pause(),popupPlayIcon.classList.add("active"),popupVideoBlock.classList.remove("active"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnLock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnLock(){setTimeout((function(){for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),800),unlock=!1,setTimeout((function(){unlock=!0}),800)}let productivityInput=document.querySelectorAll(".productivity__input > label"),productivityItem=document.querySelectorAll(".productivity__input > input"),startIndex=document.querySelector(".start-index"),stopButton=document.querySelector(".stop");productivityInput&&productivityInput.forEach((e=>{e.addEventListener("click",(()=>{JSON.parse(1!=localStorage.getItem("activeStopButton"))&&(startIndex.classList.add("active"),startIndex.classList.remove("disabled"))}))})),1==JSON.parse(localStorage.getItem("activeStopButton"))&&(stopButton.classList.add("active"),stopButton&&stopButton.addEventListener("click",(e=>{e.preventDefault(),localStorage.clear(),stopButton.classList.add("animated"),setTimeout((()=>{stopButton.classList.remove("active"),stopButton.classList.remove("animated")}),1500),startIndex.classList.contains("active")||!productivityItem[0].checked&&!productivityItem[1].checked||(setTimeout((()=>{startIndex.classList.add("active")}),1500),startIndex.classList.remove("disabled"))})));